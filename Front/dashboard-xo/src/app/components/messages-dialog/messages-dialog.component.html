<form [formGroup]="messageForm" novalidate (ngSubmit)="onSubmit()">
  <h4>Messages</h4>

  <div class="row">

    <div class="flex center">
      <i class="material-icons prefix margin10">chat</i>  
      <mat-form-field class="col s12">
        <input matInput placeholder="Message" formControlName="text">
        <mat-error *ngIf="messageForm.controls['text'].hasError('maxlength')">
          {{errors['messageLength']}}
        </mat-error>
      </mat-form-field>
    </div>

    <mat-form-field class="col s12">
        <mat-select placeholder="Destinataire" formControlName="destinataire">
          <mat-option *ngFor="let destinataire of destinataires" [value]="destinataire">
            {{destinataire}}
          </mat-option>
        </mat-select>
      </mat-form-field>
  </div>
  <button class="btn white black-text waves-effect waves-light" type="button" (click)="onDelete()">Supprimer dernier message</button>
  <button class="btn grey waves-effect waves-light" type="button" (click)="onUpdate()" *ngIf="isNotUpdate">Modifier dernier message</button>
  <button class="btn orange waves-effect waves-light" type="submit" name="action" [disabled]="messageForm.invalid">Enregistrement</button>
</form>

<h5>Derniers messages</h5>
<ul class="badge-updates border">
  <li *ngFor="let message of messagesList | slice:0:3">
    <span class="new badge grey" data-badge-caption="">{{message.destinataire}}</span>
    <span class="message">{{message.texte}}</span>
    <span class="time">{{message.date | untilNow}}</span>
  </li>
</ul>
